{% comment %}
Because the "bar" visualization is basic, nothing special needs to be done here,
apart from providing the canvas tag. For details on the Chart.js configuration
being used, see `createPlot()` in `indicatorView.js`.
{% endcomment %}
<canvas></canvas>
<script>
  opensdg.addChartAlteration(function(config, context) {
    if (context.selectedUnit && context.unitLimits[context.selectedUnit]) {
      var overrides = {
        options: {
          scales: {
            yAxes: [{
              ticks: {
                min: context.unitLimits[context.selectedUnit].minimum,
                max: context.unitLimits[context.selectedUnit].maximum,
              }
            }]
          }
        }
      }
      // Add these overrides onto the normal config, and return it.
      $.extend(true, config, overrides);
    }
    return config;
  });
</script>
